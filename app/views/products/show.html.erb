<div class="container mt-5">
  <h1><%= @product.name %></h1>
  <p><%= @product.description %></p>
  <p><strong>Base Price: </strong><%= number_to_currency(@product.base_price) %></p>

  <%= form_with url: cart_items_create_path, method: :post, local: true do |form| %>
    <%= form.hidden_field :product_id, value: @product.id %>

    <% @parts.each do |category, parts| %>
      <h5><%= category %></h5>
      <% parts.each do |part| %>
        <div class="form-check">
          <%= form.radio_button "customization_options[#{category}]", part.id, id: "#{category.downcase}_#{part.id}", class: 'form-check-input' %>
          <%= form.label "#{category.downcase}_#{part.id}", "#{part.name} (#{number_to_currency(part.price)})", class: 'form-check-label' %>
        </div>
      <% end %>
    <% end %>

    <div class="mt-3">
      <%= form.submit "Add to Cart", class: 'btn btn-primary' %>
      <%= link_to 'Cancel', "index", class: 'btn btn-secondary' %>
    </div>
  <% end %>
</div>
